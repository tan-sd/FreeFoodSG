{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport GoogleSignIn from '../components/GoogleSignIn.vue';\nconst login_URL = 'http://localhost:5100/login';\nexport default {\n  components: {\n    GoogleSignIn\n  },\n  data() {\n    return {\n      user_name: '',\n      password: '',\n      user_details: ''\n    };\n  },\n  methods: {\n    login() {\n      var username = document.getElementById(\"username_input\");\n      var username_invalid = document.getElementById(\"username_login_invalid\");\n      var password = document.getElementById(\"password_input\");\n      var password_invalid = document.getElementById(\"password_login_invalid\");\n      // user: rach123\n      // pw: Password12345!\n\n      if (this.user_name.length == 0) {\n        username.classList = \"form-control is-invalid\";\n        username.classList.add('errShake');\n        username.onanimationend = () => {\n          setTimeout(username.classList.remove(\"errShake\", 200));\n        };\n        username_invalid.classList.remove(\"d-none\");\n        document.getElementById(\"errors\").innerHTML = '';\n      } else if (this.password.length == 0) {\n        username.classList = \"form-control\";\n        username_invalid.classList.add(\"d-none\");\n        password.classList = 'form-control is-invalid';\n        password.classList.add('errShake');\n        password.onanimationend = () => {\n          setTimeout(password.classList.remove(\"errShake\", 200));\n        };\n        password_invalid.classList.remove(\"d-none\");\n        document.getElementById(\"errors\").innerHTML = '';\n      } else {\n        username.classList = \"form-control\";\n        username_invalid.classList.add(\"d-none\");\n        password.classList = 'form-control';\n        password_invalid.classList.add(\"d-none\");\n        axios.post(`${login_URL}`, {\n          username: this.user_name,\n          password: this.password\n        }).then(response => {\n          // this response will give all user details\n          // store this to session or sth\n          // console.log(response.data);\n          console.log(response.data);\n          this.user_details = response.data;\n          this.$store.state.user_details = response.data['data']['verification_result']['user'];\n          this.$store.state.isAuthenticated = true;\n          this.$router.push('/');\n        }).catch(error => {\n          console.log(error.message);\n          console.log(error.response.data.code == 404);\n          document.getElementById(\"errors\").innerHTML = error.response.data.msg;\n        });\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","GoogleSignIn","login_URL","components","data","user_name","password","user_details","methods","login","username","document","getElementById","username_invalid","password_invalid","length","classList","add","onanimationend","setTimeout","remove","innerHTML","post","then","response","console","log","$store","state","isAuthenticated","$router","push","catch","error","message","code","msg"],"sources":["C:\\ESD\\project\\MakanBoleh\\my_app\\src\\views\\LoginPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"container-fluid bg-dark text-light\" id=\"login-body\">\r\n        <img src=\"../assets/images/logos/large_logos/MakanBoleh_logo_stacked_light_large.png\" class=\"logo_img\">\r\n\r\n        <GoogleSignIn class=\"mt-5\"/>\r\n\r\n        <div class=\"d-flex align-items-center mt-3\">\r\n            <hr>\r\n            <span id=\"text-divider\">or</span>\r\n            <hr>\r\n        </div>\r\n\r\n        <div class=\"small form-floating mt-3 text-dark\">\r\n            <input v-model=\"user_name\" type=\"text\" class=\"form-control\" id=\"username_input\"\r\n            placeholder=\"name@example.com\">\r\n            <label for=\"floatingInput\">Username</label>\r\n        </div>\r\n        <div id=\"username_login_invalid\" class=\"small form-floating mt-2 d-none\">\r\n            Please enter your username.\r\n        </div>\r\n        \r\n        <div class=\"small form-floating text-dark mt-3\">\r\n            <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password_input\" placeholder=\"Password\">\r\n            <label for=\"floatingPassword\">Password</label>\r\n        </div>\r\n        <div id=\"password_login_invalid\" class=\"small form-floating mt-2 d-none\">\r\n            Please enter your password.\r\n        </div>\r\n\r\n        <div id=\"errors\" class=\"small mt-3\" style=\"height: 20px\"></div>\r\n\r\n        <div class=\"d-flex justify-content-center\">\r\n            <button class=\"btn btn-main mt-3\" @click=\"login\">Log in</button>\r\n        </div>\r\n\r\n        <hr class=\"mt-3\" style=\"width: 340px\">\r\n        <div class=\"mt-3 text-center\">\r\n            Don't have an account?\r\n        </div>\r\n        \r\n        <div class=\"d-flex justify-content-center\">\r\n            <router-link to=\"/signup\"><button class=\"btn btn-main mt-3\">Sign up for Makan Boleh</button></router-link>\r\n        </div>\r\n\r\n        <!-- <form action=\"\" class=\"d-flex flex-column mt-3\">\r\n            <small>Username</small>\r\n            <input type=\"text\">\r\n\r\n            <small>Password</small>\r\n            <input type=\"password\">\r\n\r\n            <div class=\"d-flex justify-content-center\">\r\n                <button class=\"btn btn-main mt-3\">Login</button>\r\n            </div>\r\n        </form> -->\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import axios from 'axios'\r\n    import GoogleSignIn from '../components/GoogleSignIn.vue';\r\n    const login_URL = 'http://localhost:5100/login'\r\n\r\n    export default{\r\n        components: {\r\n            GoogleSignIn,\r\n        },\r\n        data() {\r\n            return {\r\n                user_name: '',\r\n                password:'',\r\n                user_details:''\r\n            }\r\n        },\r\n        methods: {\r\n            login(){\r\n                var username = document.getElementById(\"username_input\");\r\n                var username_invalid = document.getElementById(\"username_login_invalid\");\r\n                var password = document.getElementById(\"password_input\")\r\n                var password_invalid = document.getElementById(\"password_login_invalid\");\r\n                // user: rach123\r\n                // pw: Password12345!\r\n\r\n                if(this.user_name.length == 0) {\r\n                    username.classList = \"form-control is-invalid\";\r\n                    username.classList.add('errShake');\r\n                    username.onanimationend = () => {\r\n                        setTimeout(username.classList.remove(\"errShake\", 200));\r\n                    };\r\n                    username_invalid.classList.remove(\"d-none\")\r\n                    document.getElementById(\"errors\").innerHTML = ''\r\n                } else if(this.password.length == 0) {\r\n                    username.classList = \"form-control\";\r\n                    username_invalid.classList.add(\"d-none\");\r\n                    password.classList = 'form-control is-invalid';\r\n                    password.classList.add('errShake');\r\n                    password.onanimationend = () => {\r\n                        setTimeout(password.classList.remove(\"errShake\", 200));\r\n                    };\r\n                    password_invalid.classList.remove(\"d-none\")\r\n                    document.getElementById(\"errors\").innerHTML = ''\r\n                }\r\n                else {\r\n                    username.classList = \"form-control\";\r\n                    username_invalid.classList.add(\"d-none\");\r\n                    password.classList = 'form-control';\r\n                    password_invalid.classList.add(\"d-none\");\r\n\r\n                    axios.post(`${login_URL}`, {\r\n                        username: this.user_name,\r\n                        password: this.password\r\n                })\r\n                    .then(response => {\r\n                        // this response will give all user details\r\n                        // store this to session or sth\r\n                        // console.log(response.data);\r\n                        console.log(response.data)\r\n                        this.user_details = response.data\r\n                        this.$store.state.user_details = response.data['data']['verification_result']['user']\r\n                        this.$store.state.isAuthenticated = true\r\n                        this.$router.push('/')\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error.message);\r\n                        console.log(error.response.data.code == 404)\r\n                        document.getElementById(\"errors\").innerHTML = error.response.data.msg\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    #login-body{\r\n        height: 100%;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .logo_img{\r\n        width: 250px\r\n    }\r\n\r\n    hr {\r\n        margin: 0px 15px;\r\n        border-top: 2px solid;\r\n        width: 145px;\r\n    }\r\n\r\n    #text-divider {\r\n        flex: 0.3 1 0%;\r\n    }\r\n\r\n    .form-floating {\r\n        width: 340px;\r\n    }\r\n\r\n    .errShake {\r\n    -webkit-animation: errorShake 0.4s 1 linear;\r\n    -moz-animation: errorShake 0.4s 1 linear;\r\n    -o-animation: errorShake 0.4s 1 linear;\r\n    animation: errorShake 0.4s 1 linear;\r\n    }\r\n\r\n    @keyframes errorShake {\r\n        0% {\r\n            transform: translate(30px);\r\n        }\r\n        20% {\r\n            transform: translate(-30px);\r\n        }\r\n        40% {\r\n            transform: translate(15px);\r\n        }\r\n        60% {\r\n            transform: translate(-15px);\r\n        }\r\n        80% {\r\n            transform: translate(8px);\r\n        }\r\n        100% {\r\n            transform: translate(0px);\r\n        }\r\n    }\r\n\r\n    @-webkit-keyframes errorShake {\r\n        0% {\r\n            -webkit-transform: translate(30px);\r\n        }\r\n        20% {\r\n            -webkit-transform: translate(-30px);\r\n        }\r\n        40% {\r\n            -webkit-transform: translate(15px);\r\n        }\r\n        60% {\r\n            -webkit-transform: translate(-15px);\r\n        }\r\n        80% {\r\n            -webkit-transform: translate(8px);\r\n        }\r\n        100% {\r\n            -webkit-transform: translate(0px);\r\n        }\r\n    }\r\n    @-moz-keyframes errorShake {\r\n        0% {\r\n            -moz-transform: translate(30px);\r\n        }\r\n        20% {\r\n            -moz-transform: translate(-30px);\r\n        }\r\n        40% {\r\n            -moz-transform: translate(15px);\r\n        }\r\n        60% {\r\n            -moz-transform: translate(-15px);\r\n        }\r\n        80% {\r\n            -moz-transform: translate(8px);\r\n        }\r\n        100% {\r\n            -moz-transform: translate(0px);\r\n        }\r\n    }\r\n    @-o-keyframes errorShake {\r\n        0% {\r\n            -o-transform: translate(30px);\r\n        }\r\n        20% {\r\n            -o-transform: translate(-30px);\r\n        }\r\n        40% {\r\n            -o-transform: translate(15px);\r\n        }\r\n        60% {\r\n            -o-transform: translate(-15px);\r\n        }\r\n        80% {\r\n            -o-transform: translate(8px);\r\n        }\r\n        100% {\r\n            -o-origin-transform: translate(0px);\r\n        }\r\n    }\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}