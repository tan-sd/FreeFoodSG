{"ast":null,"code":"import { normalizeClass as _normalizeClass, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, renderList as _renderList, Fragment as _Fragment, resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-0cfc8fde\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"accordion accordion-flush text-extra-dark bg-extra-light bg-opacity-75\",\n  id: \"food_accordian\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"accordion-item bg-dark text-light py-3 m-0 row\"\n};\nconst _hoisted_3 = {\n  class: \"col-6 d-flex justify-content-center\"\n};\nconst _hoisted_4 = {\n  class: \"col-6 d-flex justify-content-center\"\n};\nconst _hoisted_5 = {\n  key: 1\n};\nconst _hoisted_6 = [\"id\"];\nconst _hoisted_7 = [\"data-bs-target\", \"aria-controls\", \"onClick\"];\nconst _hoisted_8 = {\n  class: \"row vw-100\"\n};\nconst _hoisted_9 = {\n  class: \"col-6 col-md-7 col-lg-8\"\n};\nconst _hoisted_10 = [\"src\"];\nconst _hoisted_11 = {\n  class: \"col-6 col-md-5 col-lg-4\"\n};\nconst _hoisted_12 = {\n  class: \"row\"\n};\nconst _hoisted_13 = {\n  class: \"col-12\"\n};\nconst _hoisted_14 = {\n  class: \"col-12\"\n};\nconst _hoisted_15 = [\"id\", \"aria-labelledby\"];\nconst _hoisted_16 = {\n  class: \"accordion-body bg-light-gradient\"\n};\nconst _hoisted_17 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_18 = {\n  class: \"row\"\n};\nconst _hoisted_19 = {\n  class: \"col-12\"\n};\nconst _hoisted_20 = {\n  class: \"col-12 d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_21 = {\n  class: \"btn btn-warning btn-expand\"\n};\nconst _hoisted_22 = {\n  key: 2\n};\nconst _hoisted_23 = {\n  key: 0\n};\nconst _hoisted_24 = [\"id\"];\nconst _hoisted_25 = [\"data-bs-target\", \"aria-controls\", \"onClick\"];\nconst _hoisted_26 = {\n  class: \"row vw-100\"\n};\nconst _hoisted_27 = {\n  class: \"col-6 col-md-7 col-lg-8\"\n};\nconst _hoisted_28 = [\"src\"];\nconst _hoisted_29 = {\n  class: \"col-6 col-md-5 col-lg-4\"\n};\nconst _hoisted_30 = {\n  class: \"row\"\n};\nconst _hoisted_31 = {\n  class: \"col-12\"\n};\nconst _hoisted_32 = {\n  class: \"col-12\"\n};\nconst _hoisted_33 = {\n  key: 0,\n  class: \"col-12\"\n};\nconst _hoisted_34 = [\"id\", \"aria-labelledby\"];\nconst _hoisted_35 = {\n  class: \"accordion-body bg-light-gradient\"\n};\nconst _hoisted_36 = {\n  class: \"container-fluid\"\n};\nconst _hoisted_37 = {\n  class: \"row\"\n};\nconst _hoisted_38 = {\n  class: \"col-12\"\n};\nconst _hoisted_39 = {\n  class: \"col-12\"\n};\nconst _hoisted_40 = {\n  class: \"col-12 d-flex justify-content-center align-items-center\"\n};\nconst _hoisted_41 = [\"href\"];\nconst _hoisted_42 = {\n  class: \"btn btn-main\"\n};\nconst _hoisted_43 = {\n  key: 1\n};\nconst _hoisted_44 = {\n  class: \"d-flex align-items-center justify-content-center my-auto fw-bold btn-main-secondary-fixed\",\n  style: {\n    \"height\": \"90vh\",\n    \"font-size\": \"23px\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$data.my_buffets.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"btn\", {\n      'fw-bold btn-main-secondary-fixed': $data.to_display == 'mine',\n      'btn-main-light-fixed': $data.to_display != 'mine'\n    }]),\n    onClick: _cache[0] || (_cache[0] = $event => $data.to_display = 'mine')\n  }, \"My Buffets\", 2)]), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"button\", {\n    class: _normalizeClass([\"btn\", {\n      'fw-bold btn-main-secondary-fixed': $data.to_display == 'other',\n      'btn-main-light-fixed': $data.to_display != 'other'\n    }]),\n    onClick: _cache[1] || (_cache[1] = $event => $data.to_display = 'other')\n  }, \"Other Buffets\", 2)])])) : _createCommentVNode(\"\", true), $data.to_display == 'mine' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.user_food, (e_buff, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"accordion-item\",\n      key: index\n    }, [_createElementVNode(\"h2\", {\n      class: \"accordion-header\",\n      id: `mybuff-flush-heading${index}`\n    }, [_createElementVNode(\"button\", {\n      class: \"accordion-button collapsed bg-light\",\n      type: \"button\",\n      \"data-bs-toggle\": \"collapse\",\n      \"data-bs-target\": `#mybuff-flush-collapse${index}`,\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": `mybuff-flush-collapse${index}`,\n      onClick: $event => $options.focus_on_buffet(index, true)\n    }, [_createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"img\", {\n      src: require(`../assets/images/buffet_imgs/buffet${index % 3 + 1}.jpg`),\n      class: \"img-fluid\"\n    }, null, 8, _hoisted_10)]), _createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"div\", _hoisted_13, [_createElementVNode(\"h6\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(e_buff.diets_available, (e_diet, index) => {\n      return _openBlock(), _createElementBlock(\"i\", {\n        key: index\n      }, [_createVNode(_component_font_awesome_icon, {\n        icon: $data.diet_icons[e_diet]\n      }, null, 8, [\"icon\"]), _createTextVNode(\"  \")]);\n    }), 128))])]), _createElementVNode(\"div\", _hoisted_14, [_createElementVNode(\"h6\", null, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-hourglass-half\"\n    }), _createTextVNode(\" \" + _toDisplayString(e_buff.time_left), 1)])])])])])], 8, _hoisted_7)], 8, _hoisted_6), _createElementVNode(\"div\", {\n      id: `mybuff-flush-collapse${index}`,\n      class: \"accordion-collapse collapse\",\n      \"aria-labelledby\": `flush-heading${index}`,\n      \"data-bs-parent\": \"#food_accordian\"\n    }, [_createElementVNode(\"div\", _hoisted_16, [_createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"div\", _hoisted_18, [_createElementVNode(\"div\", _hoisted_19, [_createElementVNode(\"h6\", null, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-bowl-food\"\n    }), _createTextVNode(\" \" + _toDisplayString(e_buff.post_name), 1)]), _createElementVNode(\"h6\", null, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-location-dot\"\n    }), _createTextVNode(\" \" + _toDisplayString(e_buff.address), 1)]), _createElementVNode(\"p\", null, _toDisplayString(e_buff.description), 1)]), _createElementVNode(\"div\", _hoisted_20, [_createElementVNode(\"div\", null, [_createElementVNode(\"button\", _hoisted_21, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-circle-stop\"\n    }), _createTextVNode(\"  End Buffet \")])])])])])])], 8, _hoisted_15)]);\n  }), 128))])) : _createCommentVNode(\"\", true), $data.to_display == 'other' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_22, [$data.food.length > 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_23, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.food, (e_buff, index) => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"accordion-item\",\n      key: index\n    }, [_createElementVNode(\"h2\", {\n      class: \"accordion-header\",\n      id: `flush-heading${index}`\n    }, [_createElementVNode(\"button\", {\n      class: \"accordion-button collapsed bg-light\",\n      type: \"button\",\n      \"data-bs-toggle\": \"collapse\",\n      \"data-bs-target\": `#flush-collapse${index}`,\n      \"aria-expanded\": \"false\",\n      \"aria-controls\": `flush-collapse${index}`,\n      onClick: $event => $options.focus_on_buffet(index, false)\n    }, [_createElementVNode(\"div\", _hoisted_26, [_createElementVNode(\"div\", _hoisted_27, [_createElementVNode(\"img\", {\n      src: require(`../assets/images/buffet_imgs/buffet${index % 3 + 1}.jpg`),\n      class: \"img-fluid\"\n    }, null, 8, _hoisted_28)]), _createElementVNode(\"div\", _hoisted_29, [_createElementVNode(\"div\", _hoisted_30, [_createElementVNode(\"div\", _hoisted_31, [_createElementVNode(\"h6\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(e_buff.diets_available, (e_diet, index) => {\n      return _openBlock(), _createElementBlock(\"i\", {\n        key: index\n      }, [_createVNode(_component_font_awesome_icon, {\n        icon: $data.diet_icons[e_diet]\n      }, null, 8, [\"icon\"]), _createTextVNode(\"  \")]);\n    }), 128))])]), _createElementVNode(\"div\", _hoisted_32, [_createElementVNode(\"h6\", null, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-hourglass-half\"\n    }), _createTextVNode(\" \" + _toDisplayString(e_buff.time_left), 1)])]), $data.user_lat ? (_openBlock(), _createElementBlock(\"div\", _hoisted_33, [_createElementVNode(\"h6\", null, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-person-walking\"\n    }), _createTextVNode(\" \" + _toDisplayString(e_buff.distance), 1)])])) : _createCommentVNode(\"\", true)])])])], 8, _hoisted_25)], 8, _hoisted_24), _createElementVNode(\"div\", {\n      id: `flush-collapse${index}`,\n      class: \"accordion-collapse collapse\",\n      \"aria-labelledby\": `flush-heading${index}`,\n      \"data-bs-parent\": \"#food_accordian\"\n    }, [_createElementVNode(\"div\", _hoisted_35, [_createElementVNode(\"div\", _hoisted_36, [_createElementVNode(\"div\", _hoisted_37, [_createElementVNode(\"div\", _hoisted_38, [_createElementVNode(\"h6\", null, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-bowl-food\"\n    }), _createTextVNode(\" \" + _toDisplayString(e_buff.post_name), 1)])]), _createElementVNode(\"div\", _hoisted_39, [_createElementVNode(\"h6\", null, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-location-dot\"\n    }), _createTextVNode(\" \" + _toDisplayString(e_buff.address), 1)]), _createElementVNode(\"p\", null, _toDisplayString(e_buff.description), 1)]), _createElementVNode(\"div\", _hoisted_40, [_createElementVNode(\"div\", null, [_createElementVNode(\"a\", {\n      href: `https://www.google.com/maps/dir/${this.user_lat},${this.user_long}/${e_buff.latitude},${e_buff.longitude}`,\n      target: \"_blank\"\n    }, [_createElementVNode(\"button\", _hoisted_42, [_createVNode(_component_font_awesome_icon, {\n      icon: \"fa-solid fa-circle-arrow-right\"\n    }), _createTextVNode(\"  Route to Buffet \")])], 8, _hoisted_41)])])])])])], 8, _hoisted_34)]);\n  }), 128))])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_43, [_createElementVNode(\"div\", _hoisted_44, [_createVNode(_component_font_awesome_icon, {\n    icon: \"fa-solid fa-face-sad-tear\"\n  }), _createTextVNode(\"  No available food\")])]))])) : _createCommentVNode(\"\", true)]);\n}","map":{"version":3,"names":["class","id","style","_createElementBlock","_hoisted_1","$data","my_buffets","length","_hoisted_2","_createElementVNode","_hoisted_3","_normalizeClass","to_display","onClick","_cache","$event","_hoisted_4","_hoisted_5","_Fragment","_renderList","user_food","e_buff","index","key","type","$options","focus_on_buffet","_hoisted_8","_hoisted_9","src","require","_hoisted_11","_hoisted_12","_hoisted_13","diets_available","e_diet","_createVNode","_component_font_awesome_icon","icon","diet_icons","_hoisted_14","_toDisplayString","time_left","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","post_name","address","description","_hoisted_20","_hoisted_21","_hoisted_22","food","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","user_lat","_hoisted_33","distance","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","href","user_long","latitude","longitude","target","_hoisted_42","_hoisted_43","_hoisted_44"],"sources":["C:\\ESD\\project\\MakanBoleh\\my_app\\src\\components\\FoodList.vue"],"sourcesContent":["<template>\r\n    <div class=\"accordion accordion-flush text-extra-dark bg-extra-light bg-opacity-75\" id=\"food_accordian\">\r\n        <!-- HEADER W BUTTONS -->\r\n        <div class=\"accordion-item bg-dark text-light py-3 m-0 row\" v-if=\"my_buffets.length > 0\">\r\n            <div class=\"col-6 d-flex justify-content-center\">\r\n                <button class=\"btn\" :class=\"{'fw-bold btn-main-secondary-fixed': to_display == 'mine', 'btn-main-light-fixed': to_display != 'mine'}\" @click=\"to_display = 'mine' \">My Buffets</button>\r\n            </div>\r\n\r\n            <div class=\"col-6 d-flex justify-content-center\">\r\n                <button class=\"btn\" :class=\"{'fw-bold btn-main-secondary-fixed': to_display == 'other', 'btn-main-light-fixed': to_display != 'other'}\" @click=\"to_display = 'other' \">Other Buffets</button>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- MY BUFFETS -->\r\n        <div v-if=\"to_display == 'mine' \">\r\n            <!-- V-FOR MY_BUFFETS STARTS HERE -->\r\n            <div class=\"accordion-item\" v-for=\"(e_buff, index) in user_food\" :key=\"index\" >\r\n                <h2 class=\"accordion-header\" :id=\"`mybuff-flush-heading${index}`\">\r\n    \r\n                <!-- HEADER GOES HERE v -->\r\n                <button class=\"accordion-button collapsed bg-light\" type=\"button\" data-bs-toggle=\"collapse\" :data-bs-target=\"`#mybuff-flush-collapse${index}`\" aria-expanded=\"false\" :aria-controls=\"`mybuff-flush-collapse${index}`\" @click=\"focus_on_buffet(index, true)\">\r\n                    <div class=\"row vw-100\">\r\n                        <!-- IMAGE -->\r\n                        <div class=\"col-6 col-md-7 col-lg-8\">\r\n                            <img :src=\"require(`../assets/images/buffet_imgs/buffet${index%3+1}.jpg`)\" class=\"img-fluid\">\r\n                        </div>\r\n\r\n                        <!-- DETAILS -->\r\n                        <div class=\"col-6 col-md-5 col-lg-4\">\r\n                            <div class=\"row\">\r\n                                <!-- DIET RESTRICTIONS -->\r\n                                <div class=\"col-12\">\r\n                                    <h6>\r\n                                        <i v-for=\"(e_diet, index) in e_buff.diets_available\" :key=\"index\">\r\n                                            <font-awesome-icon :icon=\"diet_icons[e_diet]\" />&nbsp;\r\n                                        </i>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <!-- TIME LEFT -->\r\n                                <div class=\"col-12\">\r\n                                    <h6><font-awesome-icon icon=\"fa-solid fa-hourglass-half\" /> {{ e_buff.time_left }} </h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </button>\r\n    \r\n                </h2>\r\n                <div :id=\"`mybuff-flush-collapse${index}`\" class=\"accordion-collapse collapse\" :aria-labelledby=\"`flush-heading${index}`\" data-bs-parent=\"#food_accordian\">\r\n                \r\n                <!-- BODY GOES HERE v -->\r\n                <div class=\"accordion-body bg-light-gradient\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <h6>\r\n                                    <font-awesome-icon icon=\"fa-solid fa-bowl-food\" /> {{ e_buff.post_name }}\r\n                                </h6>\r\n                                <h6>\r\n                                    <font-awesome-icon icon=\"fa-solid fa-location-dot\" /> {{ e_buff.address }}\r\n                                </h6>\r\n\r\n                                <p>\r\n                                    {{ e_buff.description }}\r\n                                </p>\r\n                            </div>\r\n                            <div class=\"col-12 d-flex justify-content-center align-items-center\">\r\n                                <div>\r\n                                    <button class=\"btn btn-warning btn-expand\">\r\n                                        <font-awesome-icon icon=\"fa-solid fa-circle-stop\" />&nbsp;&nbsp;End Buffet\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        \r\n                </div>\r\n                </div>\r\n            </div>       \r\n        </div>\r\n\r\n        <!-- OTHER BUFFETS -->\r\n        <div v-if=\"to_display == 'other' \">\r\n            <!-- V-FOR BUFFETS STARTS HERE -->\r\n            <div v-if=\"food.length > 0\">\r\n            <div class=\"accordion-item\" v-for=\"(e_buff, index) in food\" :key=\"index\" >\r\n                <h2 class=\"accordion-header\" :id=\"`flush-heading${index}`\">\r\n    \r\n                <!-- HEADER GOES HERE v -->\r\n                <button class=\"accordion-button collapsed bg-light\" type=\"button\" data-bs-toggle=\"collapse\" :data-bs-target=\"`#flush-collapse${index}`\" aria-expanded=\"false\" :aria-controls=\"`flush-collapse${index}`\" @click=\"focus_on_buffet(index, false)\">\r\n                    <div class=\"row vw-100\">\r\n                        <!-- IMAGE -->\r\n                        <div class=\"col-6 col-md-7 col-lg-8\">\r\n                            <img :src=\"require(`../assets/images/buffet_imgs/buffet${index%3+1}.jpg`)\" class=\"img-fluid\">\r\n                        </div>\r\n\r\n                        <!-- DETAILS -->\r\n                        <div class=\"col-6 col-md-5 col-lg-4\">\r\n                            <div class=\"row\">\r\n                                <!-- DIET RESTRICTIONS -->\r\n                                <div class=\"col-12\">\r\n                                    <h6>\r\n                                        <i v-for=\"(e_diet, index) in e_buff.diets_available\" :key=\"index\">\r\n                                            <font-awesome-icon :icon=\"diet_icons[e_diet]\" />&nbsp;\r\n                                        </i>\r\n                                    </h6>\r\n                                </div>\r\n\r\n                                <!-- TIME LEFT -->\r\n                                <div class=\"col-12\">\r\n                                    <h6><font-awesome-icon icon=\"fa-solid fa-hourglass-half\" /> {{ e_buff.time_left }} </h6>\r\n                                </div>\r\n\r\n                                <!-- DISTANCE -->\r\n                                <div class=\"col-12\" v-if=\"user_lat\">\r\n                                    <h6><font-awesome-icon icon=\"fa-solid fa-person-walking\" /> {{ e_buff.distance }}</h6>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </button>\r\n    \r\n                </h2>\r\n                <div :id=\"`flush-collapse${index}`\" class=\"accordion-collapse collapse\" :aria-labelledby=\"`flush-heading${index}`\" data-bs-parent=\"#food_accordian\">\r\n                \r\n                <!-- BODY GOES HERE v -->\r\n                <div class=\"accordion-body bg-light-gradient\">\r\n                    <div class=\"container-fluid\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <h6>\r\n                                    <font-awesome-icon icon=\"fa-solid fa-bowl-food\" /> {{ e_buff.post_name }}\r\n                                </h6>\r\n                            </div>\r\n                            <div class=\"col-12\">\r\n                                <h6>\r\n                                    <font-awesome-icon icon=\"fa-solid fa-location-dot\" /> {{ e_buff.address }}\r\n                                </h6>\r\n\r\n                                <p>\r\n                                    {{ e_buff.description }}\r\n                                </p>\r\n                            </div>\r\n                            <div class=\"col-12 d-flex justify-content-center align-items-center\">\r\n                                <div>\r\n                                    <a :href=\"`https://www.google.com/maps/dir/${ this.user_lat },${ this.user_long }/${ e_buff.latitude },${ e_buff.longitude }`\" target=\"_blank\">\r\n                                        <button class=\"btn btn-main\">\r\n                                            <font-awesome-icon icon=\"fa-solid fa-circle-arrow-right\" />&nbsp;&nbsp;Route to Buffet\r\n                                        </button>\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        \r\n                </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div v-else>\r\n            <div class=\"d-flex align-items-center justify-content-center my-auto fw-bold btn-main-secondary-fixed\" style=\"height: 90vh; font-size: 23px;\"><font-awesome-icon icon=\"fa-solid fa-face-sad-tear\" />&nbsp;&nbsp;No available food</div>\r\n        </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    const get_all_food_URL = \"http://localhost:5100/all\";\r\n    const get_all_user_food_URL = \"http://localhost:5100/filter_user\"\r\n\r\n    export default{\r\n        props: [],\r\n\r\n        data() {\r\n            return{\r\n                food: [],\r\n                user_food: [],\r\n                buffets: [\r\n                    {\r\n                        description: 'Food at SOL',\r\n                        location: '1 Joo Koon Cir, #13-01 FairPrice Hub, Singapore 629117',\r\n                        lat: 1.3267935951952476,\r\n                        long: 103.67878198117971,\r\n                        distance: null,\r\n                        end_time: '2023-03-12T11:15:00',     // yyyy-mm-ddThh:mm:ss <- T is only a seperator\r\n                        diet_res: ['halal', 'vegetarian', 'nobeef'],\r\n                        time_left: '',\r\n                    },\r\n\r\n                    {\r\n                        description: 'Food at Esplanade. Really delicious, got chicken wings, burger, nuggets, bull penis, ice cream and chocolate cake! Come fast cos confirm very fast clear one~ :)Food at Esplanade. Really delicious, got chicken wings, burger, nuggets, bull penis, ice cream and chocolate cake! Come fast cos confirm very fast clear one~ :)Food at Esplanade. Really delicious, got chicken wings, burger, nuggets, bull penis, ice cream and chocolate cake! Come fast cos confirm very fast clear one~ :)',\r\n                        location: '1 Esplanade Dr, Singapore 038981',\r\n                        lat: 1.2898355468246039,\r\n                        long: 103.85527989652236,\r\n                        distance: null,\r\n                        end_time: '2023-03-12T22:00:00',\r\n                        diet_res: ['halal'],\r\n                        time_left: '',\r\n                    },\r\n\r\n                    {\r\n                        description: 'Food at ur mom\\'s house',\r\n                        location: '17 Petir Rd, Singapore 678278',\r\n                        lat: 1.3784975491700686,\r\n                        long: 103.76300728853624,\r\n                        distance: null,\r\n                        end_time: '2023-03-12T22:30:00',\r\n                        diet_res: ['vegetarian'],\r\n                        time_left: '',\r\n                    },\r\n                ],\r\n\r\n                my_buffets: [\r\n                    {\r\n                        description: 'My Buffet 1',\r\n                        location: '1 Joo Koon Cir, #13-01 FairPrice Hub, Singapore 629117',\r\n                        lat: 1.3267935951952476,\r\n                        long: 103.67878198117971,\r\n                        end_time: '2023-03-12T11:15:00',     // yyyy-mm-ddThh:mm:ss <- T is only a seperator\r\n                        diet_res: ['halal', 'vegetarian', 'nobeef'],\r\n                        time_left: '',\r\n                    },\r\n\r\n                    {\r\n                        description: 'My Buffet 2',\r\n                        location: '1 Esplanade Dr, Singapore 038981',\r\n                        lat: 1.2898355468246039,\r\n                        long: 103.85527989652236,\r\n                        end_time: '2023-03-12T22:00:00',\r\n                        diet_res: ['halal'],\r\n                        time_left: '',\r\n                    },\r\n                ],\r\n\r\n                diet_icons: {\r\n                    'halal': 'fa-solid fa-star-and-crescent',\r\n                    'vegetarian': 'fa-solid fa-leaf',\r\n                    'nobeef': 'fa-solid fa-cow'\r\n                },\r\n\r\n                curr_focused: 0,\r\n\r\n                user_lat: null,\r\n                user_long: null,\r\n\r\n                to_display: 'other',\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            get_all_food() {\r\n                const response = fetch(get_all_food_URL)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(response);\r\n                        if (data.code === 404) {\r\n                            console.log(\"error!\");\r\n                        } else {\r\n                            this.food = data.data.food\r\n                    }\r\n                })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    })\r\n            },\r\n            get_all_user_food() {\r\n                console.log(`${get_all_user_food_URL}`)\r\n                console.log(`${this.$store.state.user_details.username}`)\r\n                const response = fetch(`${get_all_user_food_URL}/${this.$store.state.user_details.username}`)\r\n                    .then(response => response.json())\r\n                    .then(data => {\r\n                        console.log(response);\r\n                        if (data.code === 404) {\r\n                            console.log(\"error!\");\r\n                        } else {\r\n                            this.user_food = data.data\r\n                        }\r\n                    })\r\n            },\r\n            update_buffet_time_left() {\r\n                let curr_time = new Date();\r\n\r\n                for (let e_buff of this.food) {\r\n                    // UPDATES TIME_LEFT\r\n                    let end_time = new Date(e_buff.end_time);\r\n    \r\n                    let hr_left = Math.floor( (Math.max(end_time-curr_time, 0)) / 1000 / 60 / 60 );\r\n                    let min_left = Math.floor( (Math.max(end_time-curr_time, 0)) / 1000 / 60 % 60 );\r\n                    let sec_left = Math.floor( (Math.max(end_time-curr_time, 0)) / 1000 % 60 );\r\n\r\n                    e_buff.time_left = `${hr_left}hr ${min_left}min ${sec_left}s`;\r\n                }\r\n\r\n                for (let e_buff of this.user_food) {\r\n                    // UPDATES TIME_LEFT\r\n                    let end_time = new Date(e_buff.end_time);\r\n    \r\n                    let hr_left = Math.floor( (Math.max(end_time-curr_time, 0)) / 1000 / 60 / 60 );\r\n                    let min_left = Math.floor( (Math.max(end_time-curr_time, 0)) / 1000 / 60 % 60 );\r\n                    let sec_left = Math.floor( (Math.max(end_time-curr_time, 0)) / 1000 % 60 );\r\n\r\n                    e_buff.time_left = `${hr_left}hr ${min_left}min ${sec_left}s`;\r\n                }\r\n\r\n                setTimeout(this.update_buffet_time_left, 1000)\r\n            },\r\n\r\n            update_buffet_distance() {\r\n                console.log(`=== [START] update_buffet_distance() ===`)\r\n                \r\n                for (let e_buff of this.food) {\r\n                    // UPDATES DISTANCE\r\n                    let target_lat = e_buff.latitude\r\n                    let target_long = e_buff.longitude\r\n                    let distance_km = this.get_distance_km(target_lat, target_long, this.user_lat, this.user_long)\r\n\r\n                    console.log(\"User curr latlong\", this.user_lat, this.user_long)\r\n\r\n                    if (distance_km >= 1) {\r\n                        e_buff.distance = distance_km.toFixed(1).toString() + \"km\"\r\n                    } else {\r\n                        e_buff.distance = Math.round(distance_km * 1000).toString() + 'm'\r\n                    }\r\n                }\r\n\r\n                console.log(`=== [END] update_buffet_distance() ===`)\r\n            },\r\n\r\n            current_expanded() {\r\n                console.log(`=== [START] expanded() ===`)\r\n                \r\n                let accordian_elem = document.getElementById(\"food_accordian\")\r\n\r\n                if (accordian_elem == null) {return -1}\r\n\r\n                let accordian_children = accordian_elem.children\r\n\r\n                let e_idx = -1\r\n\r\n                for (let e_child of accordian_children) {\r\n                    e_idx += 1\r\n\r\n                    let is_expanded = e_child.querySelector(`[aria-expanded='true']`)\r\n                    \r\n                    if (is_expanded) {\r\n                        return e_idx\r\n                    }\r\n                }\r\n\r\n                return -1\r\n            },\r\n\r\n            focus_on_buffet(idx, is_my_buff) {\r\n                console.log(`=== [START] focus_on_buffet(${idx}) ===`)\r\n                let prefix = ''\r\n\r\n                if (is_my_buff) {\r\n                    prefix = 'mybuff-'\r\n                }\r\n                \r\n                if (idx == -1) { idx = 0 }\r\n\r\n                let focus_elem = document.getElementById(`${prefix}flush-heading${idx}`)\r\n\r\n                setTimeout(() => {\r\n                    focus_elem.scrollIntoView({ behavior: 'smooth'})\r\n                }, \"300\")\r\n\r\n                console.log(`=== [END] focus_on_buffet(${idx}) ===`)\r\n                return\r\n            },\r\n\r\n            update_user_latlong(position) {\r\n                console.log(`=== [START] update_user_latlong() ===`)\r\n                \r\n                this.user_lat = position.coords.latitude\r\n                this.user_long =  position.coords.longitude\r\n\r\n                this.update_buffet_distance()\r\n\r\n                console.log(`=== [END] update_user_latlong() ===`)\r\n            },\r\n\r\n            getLocation() {\r\n                if (navigator.geolocation) {\r\n                    navigator.geolocation.getCurrentPosition(this.update_user_latlong);\r\n                }\r\n            },\r\n\r\n            get_distance_km(lat1, lon1, lat2, lon2) {\r\n                var R = 6371; // Radius of the earth in km\r\n                var dLat = this.deg2rad(lat2-lat1);  // deg2rad below\r\n                var dLon = this.deg2rad(lon2-lon1); \r\n                var a = \r\n                    Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n                    Math.cos(this.deg2rad(lat1)) * Math.cos(this.deg2rad(lat2)) * \r\n                    Math.sin(dLon/2) * Math.sin(dLon/2)\r\n                    ; \r\n                var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \r\n                var d = R * c; // Distance in km\r\n                return d;\r\n            },\r\n\r\n            deg2rad(deg) {\r\n                return deg * (Math.PI/180)\r\n            },\r\n        },\r\n\r\n        computed: {\r\n        },\r\n\r\n        async created() {\r\n            this.getLocation();\r\n            this.update_buffet_time_left();\r\n            this.get_all_food();\r\n            this.get_all_user_food();\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    /* Up to LG */\r\n    @media (max-width: 769px) {\r\n        #food_accordian{\r\n            /* position: fixed;\r\n            bottom: 0;\r\n            right: 0;\r\n            left: 0; */\r\n            overflow-y: scroll;\r\n            max-height: 40vh;\r\n            transition: all .8s ease-in-out;\r\n            border-radius: 12px 12px 0px 0px;\r\n        }\r\n\r\n        #food_accordian:has(.accordion-button[aria-expanded='true']) {\r\n            max-height: 60vh;\r\n        }\r\n    }\r\n\r\n    /* Past LG */\r\n    @media (min-width: 769px) {\r\n        #food_accordian{\r\n            position: absolute;\r\n            bottom: 0;\r\n            left: 0;\r\n            overflow-y: scroll;\r\n            height: 100%;\r\n            width: 40vw;\r\n        }\r\n    }\r\n    img{\r\n        aspect-ratio: 120/ 70;\r\n        object-fit: cover;\r\n        border-radius: 10px;\r\n    }\r\n\r\n    .accordion-button[aria-expanded='true'] {\r\n        background-color: #FFC23F !important;\r\n        color: #1e2e1e;\r\n    }\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}