{"ast":null,"code":"import { createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, vModelText as _vModelText, withDirectives as _withDirectives, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nimport _imports_0 from '../assets/images/logos/large_logos/MakanBoleh_logo_stacked_light_large.png';\nconst _withScopeId = n => (_pushScopeId(\"data-v-e57280ec\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"fill-space\"\n};\nconst _hoisted_2 = {\n  class: \"container-fluid bg-dark text-light py-5\",\n  id: \"login-body\"\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  class: \"logo_img\"\n}, null, -1));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex align-items-center mt-3\"\n}, [/*#__PURE__*/_createElementVNode(\"hr\"), /*#__PURE__*/_createElementVNode(\"span\", {\n  id: \"text-divider\"\n}, \"or\"), /*#__PURE__*/_createElementVNode(\"hr\")], -1));\nconst _hoisted_5 = {\n  class: \"small form-floating mt-3 text-dark\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingInput\"\n}, \"Username\", -1));\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"username_login_invalid\",\n  class: \"small form-floating mt-2 d-none\"\n}, \" Please enter your username. \", -1));\nconst _hoisted_8 = {\n  class: \"small form-floating text-dark mt-3\"\n};\nconst _hoisted_9 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"floatingPassword\"\n}, \"Password\", -1));\nconst _hoisted_10 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"password_login_invalid\",\n  class: \"small form-floating mt-2 d-none\"\n}, \" Please enter your password. \", -1));\nconst _hoisted_11 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  id: \"errors\",\n  class: \"small mt-3\",\n  style: {\n    \"height\": \"20px\"\n  }\n}, null, -1));\nconst _hoisted_12 = {\n  class: \"d-flex justify-content-center\"\n};\nconst _hoisted_13 = [\"disabled\"];\nconst _hoisted_14 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"hr\", {\n  class: \"mt-3\",\n  style: {\n    \"width\": \"340px\"\n  }\n}, null, -1));\nconst _hoisted_15 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"mt-3 text-center\"\n}, \" Don't have an account? \", -1));\nconst _hoisted_16 = {\n  class: \"d-flex justify-content-center\"\n};\nconst _hoisted_17 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"btn btn-main mt-3\"\n}, \"Sign up for Makan Boleh\", -1));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_GoogleSignIn = _resolveComponent(\"GoogleSignIn\");\n  const _component_font_awesome_icon = _resolveComponent(\"font-awesome-icon\");\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createVNode(_component_GoogleSignIn, {\n    class: \"mt-5\"\n  }), _hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.user_name = $event),\n    type: \"text\",\n    class: \"form-control\",\n    id: \"username_input\",\n    placeholder: \"name@example.com\"\n  }, null, 512), [[_vModelText, $data.user_name]]), _hoisted_6]), _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.password = $event),\n    type: \"password\",\n    class: \"form-control\",\n    id: \"password_input\",\n    placeholder: \"Password\"\n  }, null, 512), [[_vModelText, $data.password]]), _hoisted_9]), _hoisted_10, _hoisted_11, _createElementVNode(\"div\", _hoisted_12, [_createElementVNode(\"button\", {\n    class: \"btn btn-main mt-3\",\n    disabled: $data.login_loading,\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.login && $options.login(...args))\n  }, [$data.login_loading ? (_openBlock(), _createBlock(_component_font_awesome_icon, {\n    key: 0,\n    icon: ['fas', 'spinner'],\n    spin: \"\",\n    class: \"me-3\"\n  })) : _createCommentVNode(\"\", true), _createTextVNode(\"Log in\")], 8, _hoisted_13)]), _hoisted_14, _hoisted_15, _createElementVNode(\"div\", _hoisted_16, [_createVNode(_component_router_link, {\n    to: \"/signup\"\n  }, {\n    default: _withCtx(() => [_hoisted_17]),\n    _: 1\n  })])])]);\n}","map":{"version":3,"names":["_imports_0","class","id","_createElementVNode","src","for","style","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_GoogleSignIn","_hoisted_4","_hoisted_5","$data","user_name","$event","type","placeholder","_hoisted_6","_hoisted_7","_hoisted_8","password","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","disabled","login_loading","onClick","_cache","args","$options","login","_createBlock","_component_font_awesome_icon","icon","spin","_hoisted_14","_hoisted_15","_hoisted_16","_component_router_link","to","_hoisted_17"],"sources":["C:\\ESD\\project\\MakanBoleh\\my_app\\src\\views\\LoginPage.vue"],"sourcesContent":["<template>\r\n    <div class=\"fill-space\">\r\n        <div class=\"container-fluid bg-dark text-light py-5\" id=\"login-body\">\r\n            <img src=\"../assets/images/logos/large_logos/MakanBoleh_logo_stacked_light_large.png\" class=\"logo_img\">\r\n    \r\n            <GoogleSignIn class=\"mt-5\"/>\r\n    \r\n            <div class=\"d-flex align-items-center mt-3\">\r\n                <hr>\r\n                <span id=\"text-divider\">or</span>\r\n                <hr>\r\n            </div>\r\n    \r\n            <div class=\"small form-floating mt-3 text-dark\">\r\n                <input v-model=\"user_name\" type=\"text\" class=\"form-control\" id=\"username_input\"\r\n                placeholder=\"name@example.com\">\r\n                <label for=\"floatingInput\">Username</label>\r\n            </div>\r\n            <div id=\"username_login_invalid\" class=\"small form-floating mt-2 d-none\">\r\n                Please enter your username.\r\n            </div>\r\n            \r\n            <div class=\"small form-floating text-dark mt-3\">\r\n                <input v-model=\"password\" type=\"password\" class=\"form-control\" id=\"password_input\" placeholder=\"Password\">\r\n                <label for=\"floatingPassword\">Password</label>\r\n            </div>\r\n            <div id=\"password_login_invalid\" class=\"small form-floating mt-2 d-none\">\r\n                Please enter your password.\r\n            </div>\r\n    \r\n            <div id=\"errors\" class=\"small mt-3\" style=\"height: 20px\"></div>\r\n    \r\n            <div class=\"d-flex justify-content-center\">\r\n                <button class=\"btn btn-main mt-3\" :disabled=\"login_loading\" @click=\"login\"><font-awesome-icon :icon=\"['fas', 'spinner']\" v-if=\"login_loading\" spin class=\"me-3\" />Log in</button>\r\n            </div>\r\n    \r\n            <hr class=\"mt-3\" style=\"width: 340px\">\r\n            <div class=\"mt-3 text-center\">\r\n                Don't have an account?\r\n            </div>\r\n            \r\n            <div class=\"d-flex justify-content-center\">\r\n                <router-link to=\"/signup\"><button class=\"btn btn-main mt-3\">Sign up for Makan Boleh</button></router-link>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n    import { FontAwesomeIcon } from '@fortawesome/vue-fontawesome';\r\n    import axios from 'axios'\r\n    import GoogleSignIn from '../components/GoogleSignIn.vue';\r\n    const login_URL = 'http://localhost:5100/login'\r\n\r\n    export default{\r\n        components: {\r\n            GoogleSignIn,\r\n            FontAwesomeIcon\r\n        },\r\n        data() {\r\n            return {\r\n                user_name: '',\r\n                password:'',\r\n                user_details:'',\r\n                login_loading: false\r\n            }\r\n        },\r\n        methods: {\r\n            login(){\r\n                this.login_loading = true\r\n\r\n                var username = document.getElementById(\"username_input\");\r\n                var username_invalid = document.getElementById(\"username_login_invalid\");\r\n                var password = document.getElementById(\"password_input\")\r\n                var password_invalid = document.getElementById(\"password_login_invalid\");\r\n\r\n                if(this.user_name.length == 0) {\r\n                    username.classList = \"form-control is-invalid\";\r\n                    username.classList.add('errShake');\r\n                    username.onanimationend = () => {\r\n                        setTimeout(username.classList.remove(\"errShake\", 200));\r\n                    };\r\n                    username_invalid.classList.remove(\"d-none\")\r\n                    document.getElementById(\"errors\").innerHTML = ''\r\n                    this.login_loading = false\r\n                } else if(this.password.length == 0) {\r\n                    username.classList = \"form-control\";\r\n                    username_invalid.classList.add(\"d-none\");\r\n                    password.classList = 'form-control is-invalid';\r\n                    password.classList.add('errShake');\r\n                    password.onanimationend = () => {\r\n                        setTimeout(password.classList.remove(\"errShake\", 200));\r\n                    };\r\n                    password_invalid.classList.remove(\"d-none\")\r\n                    document.getElementById(\"errors\").innerHTML = ''\r\n                    this.login_loading = false\r\n                }\r\n                else {\r\n                    username.classList = \"form-control\";\r\n                    username_invalid.classList.add(\"d-none\");\r\n                    password.classList = 'form-control';\r\n                    password_invalid.classList.add(\"d-none\");\r\n\r\n                    axios.post(`${login_URL}`, {\r\n                        username: this.user_name,\r\n                        password: this.password\r\n                })\r\n                    .then(response => {\r\n                        // this response will give all user details\r\n                        // store this to session or sth\r\n\r\n                        this.$store.state.user_details = response.data['data']['verification_result']['user']\r\n                        this.$store.state.isAuthenticated = true\r\n                        this.$router.push('/')\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error.message);\r\n                        console.log(error.response.data.code == 404)\r\n                        document.getElementById(\"errors\").innerHTML = error.response.data.msg\r\n                        this.login_loading = false\r\n                    });\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n    .fill-space{\r\n        height: 100%;\r\n        position: relative;\r\n    }\r\n\r\n    #login-body{\r\n        height: 100%;\r\n        display: flex;\r\n        align-items: center;\r\n        flex-direction: column;\r\n        overflow-y: scroll;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background-image: linear-gradient(180deg, #264726, #336033);\r\n    }\r\n\r\n    .logo_img{\r\n        width: 250px\r\n    }\r\n\r\n    hr {\r\n        margin: 0px 15px;\r\n        border-top: 2px solid;\r\n        width: 145px;\r\n    }\r\n\r\n    #text-divider {\r\n        flex: 0.3 1 0%;\r\n    }\r\n\r\n    .form-floating {\r\n        width: 340px;\r\n    }\r\n\r\n    .errShake {\r\n    -webkit-animation: errorShake 0.4s 1 linear;\r\n    -moz-animation: errorShake 0.4s 1 linear;\r\n    -o-animation: errorShake 0.4s 1 linear;\r\n    animation: errorShake 0.4s 1 linear;\r\n    }\r\n\r\n    @keyframes errorShake {\r\n        0% {\r\n            transform: translate(30px);\r\n        }\r\n        20% {\r\n            transform: translate(-30px);\r\n        }\r\n        40% {\r\n            transform: translate(15px);\r\n        }\r\n        60% {\r\n            transform: translate(-15px);\r\n        }\r\n        80% {\r\n            transform: translate(8px);\r\n        }\r\n        100% {\r\n            transform: translate(0px);\r\n        }\r\n    }\r\n\r\n    @-webkit-keyframes errorShake {\r\n        0% {\r\n            -webkit-transform: translate(30px);\r\n        }\r\n        20% {\r\n            -webkit-transform: translate(-30px);\r\n        }\r\n        40% {\r\n            -webkit-transform: translate(15px);\r\n        }\r\n        60% {\r\n            -webkit-transform: translate(-15px);\r\n        }\r\n        80% {\r\n            -webkit-transform: translate(8px);\r\n        }\r\n        100% {\r\n            -webkit-transform: translate(0px);\r\n        }\r\n    }\r\n    @-moz-keyframes errorShake {\r\n        0% {\r\n            -moz-transform: translate(30px);\r\n        }\r\n        20% {\r\n            -moz-transform: translate(-30px);\r\n        }\r\n        40% {\r\n            -moz-transform: translate(15px);\r\n        }\r\n        60% {\r\n            -moz-transform: translate(-15px);\r\n        }\r\n        80% {\r\n            -moz-transform: translate(8px);\r\n        }\r\n        100% {\r\n            -moz-transform: translate(0px);\r\n        }\r\n    }\r\n    @-o-keyframes errorShake {\r\n        0% {\r\n            -o-transform: translate(30px);\r\n        }\r\n        20% {\r\n            -o-transform: translate(-30px);\r\n        }\r\n        40% {\r\n            -o-transform: translate(15px);\r\n        }\r\n        60% {\r\n            -o-transform: translate(-15px);\r\n        }\r\n        80% {\r\n            -o-transform: translate(8px);\r\n        }\r\n        100% {\r\n            -o-origin-transform: translate(0px);\r\n        }\r\n    }\r\n</style>"],"mappings":";OAGiBA,UAAgF;;;EAFxFC,KAAK,EAAC;AAAY;;EACdA,KAAK,EAAC,yCAAyC;EAACC,EAAE,EAAC;;gEACpDC,mBAAA,CAAuG;EAAlGC,GAAgF,EAAhFJ,UAAgF;EAACC,KAAK,EAAC;;gEAI5FE,mBAAA,CAIM;EAJDF,KAAK,EAAC;AAAgC,I,aACvCE,mBAAA,CAAI,O,aACJA,mBAAA,CAAiC;EAA3BD,EAAE,EAAC;AAAc,GAAC,IAAE,G,aAC1BC,mBAAA,CAAI,M;;EAGHF,KAAK,EAAC;AAAoC;gEAG3CE,mBAAA,CAA2C;EAApCE,GAAG,EAAC;AAAe,GAAC,UAAQ;gEAEvCF,mBAAA,CAEM;EAFDD,EAAE,EAAC,wBAAwB;EAACD,KAAK,EAAC;GAAkC,+BAEzE;;EAEKA,KAAK,EAAC;AAAoC;gEAE3CE,mBAAA,CAA8C;EAAvCE,GAAG,EAAC;AAAkB,GAAC,UAAQ;iEAE1CF,mBAAA,CAEM;EAFDD,EAAE,EAAC,wBAAwB;EAACD,KAAK,EAAC;GAAkC,+BAEzE;iEAEAE,mBAAA,CAA+D;EAA1DD,EAAE,EAAC,QAAQ;EAACD,KAAK,EAAC,YAAY;EAACK,KAAoB,EAApB;IAAA;EAAA;;;EAE/BL,KAAK,EAAC;AAA+B;;iEAI1CE,mBAAA,CAAsC;EAAlCF,KAAK,EAAC,MAAM;EAACK,KAAoB,EAApB;IAAA;EAAA;;iEACjBH,mBAAA,CAEM;EAFDF,KAAK,EAAC;AAAkB,GAAC,0BAE9B;;EAEKA,KAAK,EAAC;AAA+B;iEACZE,mBAAA,CAAkE;EAA1DF,KAAK,EAAC;AAAmB,GAAC,yBAAuB;;;;;uBAzC/FM,mBAAA,CA4CM,OA5CNC,UA4CM,GA3CFL,mBAAA,CA0CM,OA1CNM,UA0CM,GAzCFC,UAAuG,EAEvGC,YAAA,CAA4BC,uBAAA;IAAdX,KAAK,EAAC;EAAM,IAE1BY,UAIM,EAENV,mBAAA,CAIM,OAJNW,UAIM,G,gBAHFX,mBAAA,CAC+B;+DADfY,KAAA,CAAAC,SAAS,GAAAC,MAAA;IAAEC,IAAI,EAAC,MAAM;IAACjB,KAAK,EAAC,cAAc;IAACC,EAAE,EAAC,gBAAgB;IAC/EiB,WAAW,EAAC;gCADIJ,KAAA,CAAAC,SAAS,E,GAEzBI,UAA2C,C,GAE/CC,UAEM,EAENlB,mBAAA,CAGM,OAHNmB,UAGM,G,gBAFFnB,mBAAA,CAA0G;+DAA1FY,KAAA,CAAAQ,QAAQ,GAAAN,MAAA;IAAEC,IAAI,EAAC,UAAU;IAACjB,KAAK,EAAC,cAAc;IAACC,EAAE,EAAC,gBAAgB;IAACiB,WAAW,EAAC;gCAA/EJ,KAAA,CAAAQ,QAAQ,E,GACxBC,UAA8C,C,GAElDC,WAEM,EAENC,WAA+D,EAE/DvB,mBAAA,CAEM,OAFNwB,WAEM,GADFxB,mBAAA,CAAiL;IAAzKF,KAAK,EAAC,mBAAmB;IAAE2B,QAAQ,EAAEb,KAAA,CAAAc,aAAa;IAAGC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,KAAA,IAAAD,QAAA,CAAAC,KAAA,IAAAF,IAAA,CAAK;MAAsDjB,KAAA,CAAAc,aAAa,I,cAAjEM,YAAA,CAAuFC,4BAAA;;IAAnEC,IAAI,EAAE,kBAAkB;IAAuBC,IAAI,EAAJ,EAAI;IAACrC,KAAK,EAAC;wDAAS,QAAM,E,qBAG5KsC,WAAsC,EACtCC,WAEM,EAENrC,mBAAA,CAEM,OAFNsC,WAEM,GADF9B,YAAA,CAA0G+B,sBAAA;IAA7FC,EAAE,EAAC;EAAS;sBAAC,MAAkE,CAAlEC,WAAkE,C"},"metadata":{},"sourceType":"module","externalDependencies":[]}